<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link href="./styles.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <title>Password List</title>
    <link href="./sitetable.css" rel = "stylesheet">

  </head>
  <body>
        <!--
      </div>
      <table class = "myTable">
        <tr>
             <th>Website</th>
          <th>Username</th>
          <th>Password</th>
        </tr>
      </table>
      -->
    <section >
          <section class="gradient-custom-2">
                  <div class="container py-5 h-100">
                    <div class="row d-flex justify-content-center align-items-center h-100">
                      <div class="col-md-12 col-xl-10">

                        <div class="card mask-custom">
                          <div class="card-body p-4 text-white">

                            <div class="text-center pt-3 pb-2">
                              <h2 class="my-4">Password List</h2>
                            </div>

                            <table class="table text-white mb-0" id = "myTable">
                              <thead>
                                <tr>
                                  <th scope="col">Website</th>
                                  <th scope="col">Username</th>
                                  <th scope="col">Password</th>
                                  <th scope="col">Remove</th>
                                </tr>
                              </thead>
                              <tbody>
                              </tbody>
                            </table>


                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="container py-5 h-100">
                    <div class="row d-flex justify-content-center align-items-center h-100">
                      <div class="col-md-12 col-xl-10">

                        <div class="card mask-custom">
                          <div class="card-body p-4 text-white">

			      <div id="myDIV" class="header">
				<h2>Your Passwords</h2>
				<div id="takeInput">
				  <input
				    type="text"
				    id="WebsiteName"
				    placeholder="Please Enter Your Website Name"
				  />
				  <input
				    type="text"
				    id="UserName"
				    placeholder="Please Enter Your UserName"
				  />
				  <input
				    type="password"
				    id="password"
				    placeholder="Please Enter Your Password"
				  />
				  <input type="submit" onclick="newElement()" class="addBtn"></input> 
				</div>
				</div>

                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
		  <!--<div onclick="newElement()" class="addBtn">Add</div>--!>
                </section>
  </body>
<!--  <script src = "../lib/site-updator.js">
</script> --!>
  <script>
	const {getEntries,addEntry}=require('../lib/site-updator.js')	
	entries=getEntries()
	for(entry of entries){
	  let website = entry["website"]
	  let username = entry["username"]
	  let password = entry["password"]
	  var tab = document.getElementById('myTable');
	  var row = document.createElement('tr');
	  var cell_website = document.createElement('td');
	  var cell_username = document.createElement('td');
	  var cell_password = document.createElement('td');
	  row.insertCell(0).append(website);
	  row.insertCell(1).append(username);
	  row.insertCell(2).append(password);
	  row.insertCell(3).append("y/n");
	  tab.append(row);
	}
	function newElement(){
	  var tab = document.getElementById('myTable');
	  var row = document.createElement('tr');
	  var cell_website = document.createElement('td');
	  var cell_username = document.createElement('td');
	  var cell_password = document.createElement('td');
	  let website = document.getElementById('WebsiteName').value;
	  let username = document.getElementById('UserName').value;
	  let password = document.getElementById('password').value;
	  const newEntry = {
	    "username" : username,
	    "website" : website,
	    "password" : password
	  };
	  addEntry(newEntry);
	  row.insertCell(0).append(website);
	  row.insertCell(1).append(username);
	  row.insertCell(2).append(password);
	  row.insertCell(3).append("y/n");
	  tab.append(row); 
	};
  </script>
</html>
